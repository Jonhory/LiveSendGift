![](http://ww4.sinaimg.cn/large/c6a1cfeagw1f9ptsozcu5j20b206rt92.jpg)


æŒ‰ç…§æƒ¯ä¾‹ï¼Œå…ˆè´´[GitHubæºç åœ°å€](https://github.com/JonHory/LiveSendGift)

##å¯¼èˆª
* [ç›®æ ‡](#ç›®æ ‡)
* [ç‰ˆæœ¬æ›´æ–°è¯´æ˜](#ç‰ˆæœ¬æ›´æ–°è¯´æ˜)
* [å¿«é€Ÿä½¿ç”¨](#å¿«é€Ÿä½¿ç”¨)
* [è‡ªå®šä¹‰é…ç½®](#è‡ªå®šä¹‰é…ç½®)

##<a id="ç›®æ ‡"></a>ç›®æ ‡:

* å¼¹å¹•è¿‡å‡ ç§’è‡ªåŠ¨æ¶ˆå¤±
* å®ç°Aç”¨æˆ·å¼¹å¹•å‡ºç°æ—¶ï¼ŒBç”¨æˆ·å‘é€ç¤¼ç‰©ï¼ŒBç”¨æˆ·å¼¹å¹•åœ¨Aç”¨æˆ·å¼¹å¹•ä¸‹æ–¹,A/Bç”¨æˆ·å¼¹å¹•å­˜åœ¨æ—¶ï¼ŒA/Bç”¨æˆ·è¿ç»­å‘é€ç¤¼ç‰©ï¼Œå¼¹å¹•æ˜¾ç¤ºçš„ç¤¼ç‰©æ•°é‡å¢åŠ ï¼Œè°çš„ç¤¼ç‰©æ•°é‡è¾ƒå¤§ï¼Œè°çš„å¼¹å¹•åœ¨ä¸Šæ–¹ã€‚
* A/Bç”¨æˆ·å¼¹å¹•å­˜åœ¨æ—¶ï¼ŒCç”¨æˆ·å‘é€ç¤¼ç‰©ï¼ŒA/Bç”¨æˆ·ä¸­è¾ƒæ—©å‡ºç°çš„å¼¹å¹•è¢«æ›¿æ¢æˆCç”¨æˆ·çš„å¼¹å¹•æ•°æ®ï¼Œå¹¶ä¸”Cç”¨æˆ·çš„å¼¹å¹•å¤„äºä¸‹æ–¹


###<a id="ç‰ˆæœ¬æ›´æ–°è¯´æ˜"></a>ç‰ˆæœ¬æ›´æ–°:

#### V1.0
* å¤§è‡´å®ç°äº†ä¸åŒç”¨æˆ·å¢åŠ å¼¹å¹•çš„æ•ˆæœ

![](http://ww4.sinaimg.cn/large/c6a1cfeagw1f9p4246hkgg208g0fdmyy.gif)


#### V1.1
* å®ç°äº†ç”¨æˆ·è¿ç»­å‘é€æ•°å­—å¢åŠ æ•ˆæœ
* å®ç°äº†æ–°å¢å¼¹å¹•ä»ç©ºä½å‡ºç°çš„æ•ˆæœ

![](http://ww4.sinaimg.cn/large/c6a1cfeagw1f9p48oumbkg208g0fd0wo.gif)

#### V1.2
* å®ç°äº†ç¬¬äºŒä¸ªç”¨æˆ·ä¹‹åé€ç¤¼ç‰©æ›¿æ¢è¾ƒæ—©çš„å¼¹å¹•æ•ˆæœ(å®Œå–„)

![](http://ww3.sinaimg.cn/large/c6a1cfeagw1f9p51eh3ltg208g0fdwif.gif)

#### V1.3
* å®ç°äº†ä¸Šé¢çš„è§†å›¾ç§»é™¤åï¼Œæ­£åœ¨è¿å‡»çš„ä¸‹é¢çš„è§†å›¾ç§»åŠ¨åˆ°ä¸Šé¢çš„æ•ˆæœ

![](http://ww3.sinaimg.cn/large/c6a1cfeagw1f9p6jibv9gg208g0fdq3i.gif)

#### V1.4
* å®ç°äº†ç›®æ ‡æ•ˆæœğŸ˜ŠğŸ˜ŠğŸ˜Š

![](http://ww2.sinaimg.cn/large/c6a1cfeagw1f9p7t0w9bng208g0fd0x3.gif)

###<a id="å¿«é€Ÿä½¿ç”¨"></a>å¿«é€Ÿä½¿ç”¨
* ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹åº“:
  * [Masonry](https://github.com/SnapKit/Masonry)
  * [SDWebImage](https://github.com/rs/SDWebImage)

* ä¸¤ä¸ªæ¨¡å‹:`ZYGiftListModel`å’Œ`UserModel`
  * `ZYGiftListModel`æ˜¯ç”¨æ¥æ˜¾ç¤ºå¼¹å¹•ä¸Šå³ä¾§ç¤¼ç‰©å›¾ç‰‡`picUrl`å’Œæ‰“èµçš„è¯­å¥`rewardMsg`çš„ï¼Œç¤¼ç‰©æœ‰`type`å­—æ®µ
  * `UserModel`æ˜¯ç”¨æ¥æ˜¾ç¤ºé€ç¤¼ç‰©çš„äººçš„åç§°`name`å’Œå¤´åƒ`iconUrl`
  
* åªéœ€è¦å¯¼å…¥å³å¯`#import "LiveGiftShow.h"`
* `@property (nonatomic ,weak) LiveGiftShow * giftShow;`

```
 - (LiveGiftShow *)giftShow{
    if (!_giftShow) {
        LiveGiftShow * giftShow = [[LiveGiftShow alloc]init];
        [self.view addSubview:giftShow];
        _giftShow = giftShow;
        [giftShow mas_makeConstraints:^(MASConstraintMaker *make) {
            make.width.equalTo(@244);
            make.height.equalTo(@50);
            make.left.equalTo(self.view.mas_left);
            make.top.equalTo(self.view.mas_top).offset(100);
        }];
    }
    return _giftShow;
}
```  

* åœ¨å¼€å‘ä¸­ä½¿ç”¨

```
LiveGiftShowModel * listModel = [LiveGiftShowModel giftModel:self.giftArr[3] 
                                                   userModel:[UserModel random]];
[self.giftShow addGiftListModel:listModel];
```
å³å¯å®Œæˆæ¥å…¥ã€‚æ¯ä¸€æ¬¡ç‚¹å‡»åªéœ€è¦`[self.giftShow addGiftListModel:listModel];`å³å¯è‡ªåŠ¨è®¡æ•°åŠ ä¸€ã€‚æœ€é«˜æ”¯æŒæ˜¾ç¤º9999ã€‚

###<a id="è‡ªå®šä¹‰é…ç½®"></a>è‡ªå®šä¹‰é…ç½®
* `LiveGiftShow` ç®¡ç†æ‰€æœ‰å¼¹å¹•çš„è§†å›¾

|ä¸¤ä¸ªå¼¹å¹•ä¹‹é—´çš„é«˜åº¦å·®|ä¸¤ä¸ªäº¤æ¢åŠ¨ç”»æ—¶é•¿|
|:----------------:|:------------:|
|kGiftViewMargin  |kExchangeAnimationTime|
|50.0               |0.25         |

* `LiveGiftShowView`ä¸€ä¸ªå¼¹å¹•çš„è§†å›¾

|å¼¹å¹•èƒŒæ™¯å®½|å¼¹å¹•èƒŒæ™¯é«˜|é€ç¤¼è€…åç§°å­—å·|é€ç¤¼è€…åç§°æ–‡å­—é¢œè‰²|ç¤¼ç‰©å¯„è¯­å­—å·|ç¤¼ç‰©å¯„è¯­æ–‡å­—é¢œè‰²|
|:------:|:------:|:------:|:------:|:------:|:------:|
|kViewWidth|kViewHeight|kNameLabelFont|kNameLabelTextColor|kGiftLabelFont|kGiftLabelTextColor|
|240.0|44.0|12.0|whiteColor|10.0|orangeColor|

|æ¯ä¸ªæ•°å­—å›¾ç‰‡å®½åº¦|å¼¹å¹•å‡ ç§’åæ¶ˆå¤±|æ•°å­—æ”¹å˜åŠ¨ç”»æ—¶é•¿|å¼¹å¹•æ¶ˆå¤±åŠ¨ç”»æ—¶é•¿|
|:------:|:------:|:------:|:------:|
|kGiftNumberWidth|kTimeOut|kNumberAnimationTime|kRemoveAnimationTime|
|15.0|3|0.25|0.5|

## <a id="å…³äºæˆ‘"></a>å…³äºæˆ‘
 * å¦‚æœåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œæˆ–è€…æƒ³è¦ä¸æˆ‘åˆ†äº«ï¼åæ§½ï¼å»ºè®®ï¼æ„è§<jonhory@163.com>